{"version":3,"sources":["Components/spiner/spiner.module.css","Components/imageGallery/imageGalleryItem/ImageGalleryItem.js","Components/imageGallery/modal/Modal.js","Components/imageGallery/ImageGallery.js","Components/searchbar/Searchbar.js","Components/spiner/Spiner.js","Components/btnLoadMore/BtnLoadMore.js","services/imageApi.js","Components/App.js","index.js"],"names":["module","exports","ListItem","styled","li","ImageGalleryItem","ApiResponse","openModal","map","item","className","src","webformatURL","alt","onClick","data-large","largeImageURL","id","ModalWindow","div","Modal","state","closeModalESC","this","props","document","addEventListener","removeEventListener","closeModal","Component","List","ul","INITIALSTATE","isOpenModal","ImageGallery","e","large","target","dataset","setState","nodeName","key","Header","header","Searchbar","value","search","handleChangeInput","handleSubmit","preventDefault","updateSearchValue","onSubmit","type","autoComplete","autoFocus","placeholder","onChange","App","s","spiner","color","height","width","LoadMoreBtn","button","BtnLoadMore","handleLoadMore","query","page","axios","get","then","response","data","hits","loading","getImg","isLoading","imageApi","prevState","catch","error","console","log","finally","togle","resetState","scrollingToEnd","window","scrollTo","top","documentElement","scrollHeight","behavior","prevProps","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7071ae56.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"spiner\":\"spiner_spiner__1bYGh\"};","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst ListItem = styled.li`\r\n  & {\r\n    border-radius: 2px;\r\n    box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\r\n      0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\r\n  }\r\n\r\n  .ImageGalleryItem-image {\r\n    width: 100%;\r\n    height: 260px;\r\n    object-fit: cover;\r\n    transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  }\r\n\r\n  .ImageGalleryItem-image:hover {\r\n    transform: scale(1.03);\r\n    cursor: zoom-in;\r\n  }\r\n`;\r\n\r\nconst ImageGalleryItem = ({ ApiResponse, openModal }) => {\r\n  return ApiResponse.map((item) => {\r\n    return (\r\n      <ListItem key={item.id} className=\"ImageGalleryItem\">\r\n        <img\r\n          src={item.webformatURL}\r\n          alt={item.webformatURL}\r\n          onClick={openModal}\r\n          data-large={item.largeImageURL}\r\n          className=\"ImageGalleryItem-image\"\r\n        />\r\n      </ListItem>\r\n    );\r\n  });\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React, { Component } from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst ModalWindow = styled.div`\r\n  & {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100vw;\r\n    height: 100vh;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    background-color: rgba(0, 0, 0, 0.8);\r\n    z-index: 1200;\r\n  }\r\n\r\n  .Modal {\r\n    max-width: calc(100vw - 48px);\r\n    max-height: calc(100vh - 24px);\r\n  }\r\n`;\r\nclass Modal extends Component {\r\n  state = {};\r\n\r\n  componentDidMount() {\r\n    const { closeModalESC } = this.props;\r\n    document.addEventListener(\"keydown\", closeModalESC);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    const { closeModalESC } = this.props;\r\n    document.removeEventListener(\"keydown\", closeModalESC);\r\n  }\r\n\r\n  render() {\r\n    const { largeImageURL, closeModal } = this.props;\r\n    return (\r\n      <ModalWindow className=\"Overlay\" onClick={closeModal}>\r\n        <div className=\"Modal\">\r\n          <img src={largeImageURL} alt=\"\" />\r\n        </div>\r\n      </ModalWindow>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React, { Component } from \"react\";\r\nimport ImageGalleryItem from \"./imageGalleryItem/ImageGalleryItem\";\r\nimport Modal from \"./modal/Modal\";\r\nimport styled from \"styled-components\";\r\n\r\nconst List = styled.ul`\r\n  & {\r\n    display: grid;\r\n    max-width: calc(100vw - 48px);\r\n    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\r\n    grid-gap: 16px;\r\n    margin-top: 0;\r\n    margin-bottom: 0;\r\n    padding: 0;\r\n    list-style: none;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n  }\r\n`;\r\nconst INITIALSTATE = { largeImageURL: \"\", isOpenModal: false };\r\nclass ImageGallery extends Component {\r\n  state = INITIALSTATE;\r\n\r\n  openModal = (e) => {\r\n    const { large } = e.target.dataset;\r\n    this.setState({ largeImageURL: large, isOpenModal: true });\r\n  };\r\n\r\n  closeModal = (e) => {\r\n    const { nodeName } = e.target;\r\n    if (nodeName === \"IMG\") return;\r\n    this.setState(INITIALSTATE);\r\n  };\r\n\r\n  closeModalESC = (e) => {\r\n    if (e.key === \"Escape\") {\r\n      this.setState(INITIALSTATE);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { ApiResponse } = this.props;\r\n    const { largeImageURL, isOpenModal } = this.state;\r\n    return (\r\n      <List className=\"ImageGallery\">\r\n        {isOpenModal && (\r\n          <Modal\r\n            largeImageURL={largeImageURL}\r\n            closeModal={this.closeModal}\r\n            closeModalESC={this.closeModalESC}\r\n          />\r\n        )}\r\n\r\n        <ImageGalleryItem\r\n          ApiResponse={ApiResponse}\r\n          openModal={this.openModal}\r\n        />\r\n      </List>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Header = styled.header`\r\n  & {\r\n    top: 0;\r\n    left: 0;\r\n    position: sticky;\r\n    z-index: 1100;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    min-height: 64px;\r\n    padding-right: 24px;\r\n    padding-left: 24px;\r\n    padding-top: 12px;\r\n    padding-bottom: 12px;\r\n    color: #fff;\r\n    background-color: #3f51b5;\r\n    box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\r\n      0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\r\n  }\r\n  .SearchForm {\r\n    display: flex;\r\n    align-items: center;\r\n    width: 100%;\r\n    max-width: 600px;\r\n    background-color: #fff;\r\n    border-radius: 3px;\r\n    overflow: hidden;\r\n  }\r\n\r\n  .SearchForm-button {\r\n    display: inline-block;\r\n    width: 48px;\r\n    height: 48px;\r\n    border: 0;\r\n    background-image: url(\"https://image.flaticon.com/icons/svg/149/149852.svg\");\r\n    background-size: 40%;\r\n    background-repeat: no-repeat;\r\n    background-position: center;\r\n    opacity: 0.6;\r\n    transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n    cursor: pointer;\r\n    outline: none;\r\n  }\r\n\r\n  .SearchForm-button:hover {\r\n    opacity: 1;\r\n  }\r\n\r\n  .SearchForm-button-label {\r\n    position: absolute;\r\n    width: 1px;\r\n    height: 1px;\r\n    padding: 0;\r\n    overflow: hidden;\r\n    clip: rect(0, 0, 0, 0);\r\n    white-space: nowrap;\r\n    clip-path: inset(50%);\r\n    border: 0;\r\n  }\r\n\r\n  .SearchForm-input {\r\n    display: inline-block;\r\n    width: 100%;\r\n    font: inherit;\r\n    font-size: 20px;\r\n    border: none;\r\n    outline: none;\r\n    padding-left: 4px;\r\n    padding-right: 4px;\r\n  }\r\n\r\n  .SearchForm-input::placeholder {\r\n    font: inherit;\r\n    font-size: 18px;\r\n  }\r\n`;\r\nclass Searchbar extends Component {\r\n  state = {\r\n    value: \"\",\r\n    search: \"\",\r\n    ApiResponse: [],\r\n  };\r\n\r\n  handleChangeInput = (e) => {\r\n    this.setState({ value: e.target.value });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { updateSearchValue } = this.props;\r\n    const { value } = this.state;\r\n    updateSearchValue(value);\r\n  };\r\n\r\n  render() {\r\n    const { value } = this.state;\r\n\r\n    return (\r\n      <Header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleChangeInput}\r\n            value={value}\r\n          />\r\n        </form>\r\n      </Header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React, { Component } from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nimport s from \"./spiner.module.css\";\r\n\r\nexport default class App extends Component {\r\n  render() {\r\n    return (\r\n      <Loader\r\n        className={s.spiner}\r\n        type=\"Grid\"\r\n        color=\"#3F51B5\"\r\n        height={80}\r\n        width={80}\r\n        // timeout={3000} //3 secs\r\n      />\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst LoadMoreBtn = styled.button`\r\n  & {\r\n    margin: 20px auto;\r\n    padding: 8px 16px;\r\n    border-radius: 2px;\r\n    background-color: #3f51b5;\r\n    transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n    text-align: center;\r\n    display: block;\r\n    color: #fff;\r\n    border: 0;\r\n    text-decoration: none;\r\n    cursor: pointer;\r\n    font-family: inherit;\r\n    font-size: 18px;\r\n    line-height: 24px;\r\n    font-style: normal;\r\n    font-weight: 500;\r\n    min-width: 180px;\r\n    box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\r\n      0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\r\n  }\r\n\r\n  &:hover,\r\n  &:focus {\r\n    background-color: #303f9f;\r\n  }\r\n`;\r\nconst BtnLoadMore = ({ handleLoadMore }) => {\r\n  return (\r\n    <LoadMoreBtn className=\"Button\" type=\"button\" onClick={handleLoadMore}>\r\n      Load More\r\n    </LoadMoreBtn>\r\n  );\r\n};\r\n\r\nexport default BtnLoadMore;\r\n","import axios from \"axios\";\r\n\r\nconst buseURL = \"https://pixabay.com/api/\";\r\nconst key = \"18823692-f69edaabddb6a9bc41c7d0ed3\";\r\nconst per_page = \"12\";\r\n\r\nconst feachImgQuery = (query, page) => {\r\n  return axios\r\n    .get(\r\n      `${buseURL}?q=${query}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=${per_page}`\r\n    )\r\n    .then((response) => response.data.hits);\r\n};\r\n\r\nexport default {\r\n  feachImgQuery,\r\n};\r\n","import React, { Component } from \"react\";\nimport ImageGallery from \"./imageGallery/ImageGallery\";\nimport Searchbar from \"./searchbar/Searchbar\";\nimport Spiner from \"./spiner/Spiner\";\n\nimport BtnLoadMore from \"./btnLoadMore/BtnLoadMore\";\nimport imageApi from \"../services/imageApi\";\n\nimport \"./App.css\";\n\nclass App extends Component {\n  state = {\n    search: \"\",\n    ApiResponse: [],\n    page: 1,\n    loading: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { search, page } = this.state;\n    if (prevState.search !== search) this.resetState();\n\n    if (prevState.search !== search && prevState.page === 1) {\n      this.getImg();\n      return;\n    }\n    if (prevState.page !== page) this.getImg();\n  }\n\n  getSnapshotBeforeUpdate(prevProps, prevState) {\n    const { page } = this.state;\n    if (page > 1) this.scrollingToEnd();\n    return null;\n  }\n\n  updateSearchValue = (value) => {\n    this.setState({ search: value });\n  };\n\n  getImg = () => {\n    const { search, page } = this.state;\n    this.isLoading(true);\n\n    imageApi\n      .feachImgQuery(search, page)\n      .then((response) => {\n        this.setState((prevState) => ({\n          ApiResponse: [...prevState.ApiResponse, ...response],\n        }));\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n      .finally(() => {\n        this.isLoading(false);\n      });\n  };\n\n  isLoading = (togle) => {\n    this.setState({ loading: togle });\n  };\n\n  handleLoadMore = () => {\n    this.setState((prevState) => ({ page: prevState.page + 1 }));\n  };\n\n  resetState = () => {\n    this.setState({ page: 1, ApiResponse: [] });\n  };\n\n  scrollingToEnd = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  render() {\n    const { ApiResponse, loading } = this.state;\n\n    return (\n      <div>\n        <Searchbar updateSearchValue={this.updateSearchValue} />\n        {loading && <Spiner />}\n        {ApiResponse.length !== 0 && <ImageGallery ApiResponse={ApiResponse} />}\n        {ApiResponse.length > 0 && (\n          <BtnLoadMore handleLoadMore={this.handleLoadMore} />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./Components/App\";\n\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}